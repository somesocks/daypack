!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var e in r)("object"==typeof exports?exports:t)[e]=r[e]}}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){t.exports=r(1)},function(t,n,r){"use strict";var e=r(2),o=r(3),c=r(13),u=function(t,n,r){o[t]={pack:n,unpack:r}},a=function(t,n){n=n||c(t);var r=o[n];if(!r)throw new Error("day-pack: no packer for type "+n+" "+JSON.stringify(t));return r.pack.call(this,t)},i=function(t,n){n=n||c(t);var r=o[n];if(!r)throw new Error("day-pack: no unpacker for type "+n);return r.unpack.call(this,t)},s=function(t){var n={},r={};r.pack_cache={},r.store=function(t){n[t[e.ID_KEY]]=t},r.fetch=function(t){return n[t]},r.pack=a.bind(r),r.unpack=i.bind(r);var o=r.pack(t);return{result:o,entities:n}},f=function(t){var n=t.result,r=t.entities,o={};o.unpack_cache={},o.store=function(t){r[t[e.ID_KEY]]=t},o.fetch=function(t){return r[t]},o.pack=a.bind(o),o.unpack=i.bind(o);var c=o.unpack(n);return c};t.exports={config:e,packers:o,type:c,register:u,pack:s,unpack:f}},function(t,n){"use strict";t.exports={ID_KEY:"id",TYPE_KEY:"class"}},function(t,n,r){"use strict";t.exports={array:r(4),boolean:r(5),date:r(6),null:r(7),number:r(8),object:r(9),regexp:r(10),string:r(11),undefined:r(12)}},function(t,n){"use strict";var r=function(t,n){for(var r=[],e=0;e<t.length;e++)r[e]=n(t[e]);return r};t.exports={pack:function t(n){var t=this.pack;return r(n,t)},unpack:function t(n){var t=this.unpack;return r(n,t)}}},function(t,n){"use strict";t.exports={pack:function(t){return t},unpack:function(t){return t}}},function(t,n,r){"use strict";function e(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var o=r(2);t.exports={pack:function(t){var n;return n={},e(n,o.TYPE_KEY,"date"),e(n,"value",t.getTime()),n},unpack:function(t){return new Date(t.value)}}},function(t,n){"use strict";t.exports={pack:function(t){return t},unpack:function(t){return t}}},function(t,n){"use strict";t.exports={pack:function(t){return t},unpack:function(t){return t}}},function(t,n,r){"use strict";var e=r(2),o=function(t){return"string"==typeof t||t instanceof String},c=function(t,n,r){var o=r||{};o[e.ID_KEY]=t[e.ID_KEY];for(var c in t)c!==e.ID_KEY&&t.hasOwnProperty(c)&&(o[c]=n(t[c]));return o};t.exports={pack:function t(n){var t=this.pack,r=this.pack_cache,u=this.store;if(o(n[e.ID_KEY])){var a=r[n[e.ID_KEY]];if(a)return a[e.ID_KEY];var i=Object.assign({},n);return r[i[e.ID_KEY]]=i,c(n,t,i),u(i),i[e.ID_KEY]}var s=Object.assign({},n);return c(n,t,s),s},unpack:function t(n){var t=this.unpack,r=this.unpack_cache;if(o(n[e.ID_KEY])){var u=r[n[e.ID_KEY]];if(u)return u;var a=Object.assign({},n);return r[a[e.ID_KEY]]=a,c(n,t,a),a}var i=Object.assign({},n);return c(n,t,i),i}}},function(t,n){"use strict";t.exports={pack:function(t){var n=(this.store,{type:"regexp",source:t.source,flags:t.flags,lastIndex:t.lastIndex});return n},unpack:function(t){var n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n}}},function(t,n){"use strict";t.exports={pack:function(t){return t},unpack:function t(n){var r=this.fetch,t=this.unpack,e=r(n);return null!=e?t(e):n}}},function(t,n){"use strict";t.exports={pack:function(t){return t},unpack:function(t){return t}}},function(t,n,r){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(2),c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){return"string"==typeof t||t instanceof String},a=function t(n){var t="undefined"==typeof n?"undefined":e(n);switch(t){default:case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return t;case"object":return null===n?"null":c(n)?"array":u(n[o.TYPE_KEY])?n[o.TYPE_KEY].toLowerCase():null!=n.__proto__&&u(n.__proto__.name)?n.__proto__.name.toLowerCase():null!=n.prototype&&u(n.prototype.name)?n.prototype.name.toLowerCase():null!=n.constructor&&u(n.constructor.name)?n.constructor.name.toLowerCase():"object"}};t.exports=a}])});