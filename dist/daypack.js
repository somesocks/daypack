!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n(2);var r=n(3),o=r.pack,i=r.unpack,c=function t(e){var n=Object.create(t.prototype);return n.entities=e||{},n.type_key=t.TYPE_KEY,n.id_key=t.ID_KEY,n.head=t.HEAD,n};c.prototype.pack=function(t){var e=this.type_key,n=this.id_key,r=this.head,i=this.entities,c={type_key:e,id_key:n,unpacked:{},packed:i,pack:o},u=o(t,c);return i[r]=u,this},c.prototype.unpack=function(t){var e=this.type_key,n=this.id_key,r=this.head,o=this.entities;t=t||r;var c={type_key:e,id_key:n,unpacked:{},packed:o,unpack:i};return i(t,c)},c.prototype.map=function(t,e){var n=this.entities,r=Object.map(n,t,e);return c(r)},c.prototype.filter=function(t,e){var n=this.entities,r=Object.filter(n,t,e);return c(r)},c.prototype.toObject=function(){return this.entities},c.prototype.fromObject=function(t){return this.entities=t,this},c.prototype.toJSON=function(){var t=this.toObject();return JSON.stringify(t)},c.prototype.fromJSON=function(t){var e=JSON.parse(t);return this.fromObject(e)},c.ID_KEY="id",c.TYPE_KEY="class",c.HEAD="__daypack__",c.pack=function(t){return c().pack(t).toObject()},c.unpack=function(t){return c().fromObject(t).unpack()},c.toJSON=function(t){return c().pack(t).toJSON()},c.fromJSON=function(t){return c().fromJSON(t)},t.exports=c},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=[].concat(r(n(2)),r(n(3)),r(n(8)));t.exports=function(t){for(var e=0;e<o.length;e++)o[e](t)}},function(t,e){"use strict";t.exports=[]},function(t,e,n){"use strict";t.exports=[n(4),n(5),n(6),n(7)]},function(t,e){"use strict";function n(){var t={};for(var e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t[e]=this[e]);return t}function r(t){Object.copy&&!t||(Object.copy=function(){return n.call.apply(n,arguments)})}t.exports=r,r()},function(t,e){"use strict";function n(t,e){var n={};for(var r in this)if(Object.prototype.hasOwnProperty.call(this,r)){var o=this[r];t.call(e,o,r,this)&&(n[r]=this[r])}return n}function r(t){Object.filter&&!t||(Object.filter=function(){return n.call.apply(n,arguments)})}t.exports=r,r()},function(t,e){"use strict";function n(t,e){for(var n in this)Object.prototype.hasOwnProperty.call(this,n)&&t.call(e,this[n],n,this)}function r(t){Object.forEach&&!t||(Object.forEach=function(){return n.call.apply(n,arguments)})}t.exports=r,r()},function(t,e){"use strict";function n(t,e){var n={};for(var r in this)if(Object.prototype.hasOwnProperty.call(this,r)){var o=this[r];n[r]=t.call(e,o,r,this)}return n}function r(t){Object.map&&!t||(Object.map=function(){return n.call.apply(n,arguments)})}t.exports=r,r()},function(t,e,n){"use strict";t.exports=[n(9),n(10),n(11),n(12),n(13)]},function(t,e){"use strict";function n(t){var e=this,n=function(n){t.has(n)&&e.delete(n)};return this.forEach(n),this}function r(t){!Set||Set.prototype.complement&&!t||Object.defineProperty(Set.prototype,"complement",{value:n})}t.exports=r,r()},function(t,e){"use strict";function n(t,e){var n=new Set,r=function(r){t.call(e,r)&&n.add(r)};return this.forEach(r),n}function r(t){!Set||Set.filter&&!t||(Set.filter=function(){return n.call.apply(n,arguments)}),!Set||Set.prototype.filter&&!t||Object.defineProperty(Set.prototype,"filter",{value:n})}t.exports=r,r()},function(t,e){"use strict";function n(t){var e=this,n=function(n){t.has(n)||e.delete(n)};return this.forEach(n),this}function r(t){!Set||Set.prototype.intersection&&!t||Object.defineProperty(Set.prototype,"intersection",{value:n})}t.exports=r,r()},function(t,e){"use strict";function n(t,e){var n=new Set,r=function(r){n.add(t.call(e,r))};return this.forEach(r),n}function r(t){!Set||Set.map&&!t||(Set.filter=function(){return n.call.apply(n,arguments)}),!Set||Set.prototype.map&&!t||Object.defineProperty(Set.prototype,"map",{value:n})}t.exports=r,r()},function(t,e){"use strict";function n(t){var e=this,n=function(t){return e.add(t)};return t.forEach(n),this}function r(t){!Set||Set.prototype.union&&!t||Object.defineProperty(Set.prototype,"union",{value:n})}t.exports=r,r()}])})},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(4),i={array:n(5),boolean:n(6),date:n(7),daypack:n(8),null:n(9),number:n(10),object:n(11),regexp:n(12),string:n(13),undefined:n(14)},c=function(t){return null!==t&&("function"==typeof t||"object"===("undefined"==typeof t?"undefined":r(t)))},u=function(t,e){if(c(t)&&t.daypack)return t.daypack;var n=o(t,e),r=i[n];if(!r)throw new Error("Daypack: no unpacker for type "+n);return r},a=function(t,e){return u(t,e).unpack(t,e)},p=function(t,e){return u(t,e).pack(t,e)},f=function(t,e){return u(t,e).serialize(t,e)},s=function(t,e){return u(t,e).deserialize(t,e)};t.exports={pack:p,unpack:a,serialize:f,deserialize:s}},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=function(t){return"string"==typeof t||t instanceof String},i=function(t,e){var i=e.type_key,c="undefined"==typeof t?"undefined":n(t);switch(c){default:case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return c;case"object":return null===t?"null":r(t)?"array":o(t[i])?t[i].toLowerCase():null!=t.__proto__&&o(t.__proto__.name)?t.__proto__.name.toLowerCase():null!=t.prototype&&o(t.prototype.name)?t.prototype.name.toLowerCase():null!=t.constructor&&o(t.constructor.name)?t.constructor.name.toLowerCase():"object"}};t.exports=i},function(t,e){"use strict";var n=function t(e,n){for(var t=n.pack,r=[],o=0;o<e.length;o++)r[o]=t(e[o],n);return r},r=function t(e,n){for(var t=n.unpack,r=[],o=0;o<e.length;o++)r[o]=t(e[o],n);return r};t.exports={pack:n,unpack:r}},function(t,e){"use strict";var n=function(t,e){return t},r=function(t,e){return t};t.exports={pack:n,unpack:r}},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(t,e){var r,o=e.type_key,i=(r={},n(r,o,"date"),n(r,"value",t.getTime()),r);return i},o=function(t,e){var n=new Date(t.value);return n};t.exports={pack:r,unpack:o}},function(t,e){"use strict";var n=function(t,e){var n=(e.unpacked,e.packed),r=t.head;return Object.assign(n,t.entities),t[r]},r=function(t,e){return t};t.exports={pack:n,unpack:r}},function(t,e){"use strict";var n=function(t,e){return t},r=function(t,e){return t},o=function(t,e){return t},i=function(t,e){return t};t.exports={pack:n,unpack:r,serialize:o,deserialize:i}},function(t,e){"use strict";var n=function(t,e){return t},r=function(t,e){return t};t.exports={pack:n,unpack:r}},function(t,e){"use strict";var n=function(t){return"string"==typeof t||t instanceof String},r=function t(e,r){var t=r.pack,o=r.packed,i=(r.unpacked,r.id_key),c=e[i];if(n(c)){var u=o[c];if(u)return c;var a={};a[i]=c,o[c]=a;for(var p in e)p!==i&&e.hasOwnProperty(p)&&(a[p]=t(e[p],r));return c}var f={};f[i]=c;for(var s in e)s!==i&&e.hasOwnProperty(s)&&(f[s]=t(e[s],r));return f},o=function t(e,r){var t=r.unpack,o=(r.packed,r.unpacked),i=r.id_key,c=e[i];if(n(c)){var u=o[c];if(u)return u;var a={};a[i]=c,o[c]=a;for(var p in e)p!==i&&e.hasOwnProperty(p)&&(a[p]=t(e[p],r));return a}var f={};for(var s in e)s!==i&&e.hasOwnProperty(s)&&(f[s]=t(e[s],r));return f};t.exports={pack:r,unpack:o}},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(t,e){var r,o=e.type_key,i=(r={},n(r,o,"regexp"),n(r,"source",t.source),n(r,"flags",t.flags),n(r,"lastIndex",t.lastIndex),r);return i},o=function(t,e){var n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n};t.exports={pack:r,unpack:o}},function(t,e){"use strict";var n=function(t,e){return t},r=function t(e,n){var t=n.unpack,r=n.packed,o=(n.unpacked,r[e]);return null!=o?t(o,n):e};t.exports={pack:n,unpack:r}},function(t,e){"use strict";var n=function(t,e){return t},r=function(t,e){return t};t.exports={pack:n,unpack:r}}])});